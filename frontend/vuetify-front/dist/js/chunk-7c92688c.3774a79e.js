(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c92688c"],{"17b3":function(t,e,a){},"4c30":function(t,e,a){},"891e":function(t,e,a){"use strict";a("17b3");var i=a("9d26"),s=a("dc22"),n=a("a9ad"),l=a("de2c"),o=a("7560"),r=a("58df");e["a"]=Object(r["a"])(n["a"],Object(l["a"])({onVisible:["init"]}),o["a"]).extend({name:"v-pagination",directives:{Resize:s["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const a=e%2===0?1:0,i=Math.floor(e/2),s=this.length-i+1+a;if(this.value>i&&this.value<s){const t=1,e=this.length,s=this.value-i+2,n=this.value+i-2-a,l=s-1===t+1?2:"...",o=n+1===e-1?n+1:"...";return[1,l,...this.range(s,n),o,this.length]}if(this.value===i){const t=this.value+i-1-a;return[...this.range(1,t),"...",this.length]}if(this.value===s){const t=this.value-i+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,i),"...",...this.range(s,this.length)]}},watch:{value(){this.init()}},mounted(){this.init()},methods:{init(){this.selected=null,this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const a=[];t=t>0?t:1;for(let i=t;i<=e;i++)a.push(i);return a},genIcon(t,e,a,s,n){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":n},on:a?{}:{click:s}},[t(i["a"],[e])])])},genItem(t,e){const a=e===this.value&&(this.color||"primary"),i=e===this.value,s=i?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":i,"aria-label":this.$vuetify.lang.t(s,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,a)=>t("li",{key:a},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},"9dc9":function(t,e,a){"use strict";a("4c30")},b2a6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{width:"250"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-purple",staticStyle:{"font-weight":"300","font-size":"16px"}}),a("v-card-text",[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",[a("b",[t._v("ชื่อ : ")]),t._v("   "+t._s(t.selected_row.patient_name))]),a("v-list-item-title",[a("b",[t._v("สถานะไลน์ : ")]),t._v("  "+t._s(t.selected_row.line_status?"มีไลน์":"ไม่มีไลน์"))])],1)],1)],1),a("v-card-actions",{staticStyle:{"justify-content":"space-between"}},[a("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",fab:"",color:"red"},on:{click:function(e){t.cf_dialog=!0}}},[a("v-icon",[t._v("delete_forever")])],1),t._v("   "),a("v-btn",{attrs:{color:"bg-purple text-white"},on:{click:function(e){t.dialog=!1}}},[t._v("ตกลง")])],1)],1)],1),a("v-dialog",{attrs:{width:"300"},model:{value:t.cf_dialog,callback:function(e){t.cf_dialog=e},expression:"cf_dialog"}},[a("v-card",[a("v-card-text",{staticStyle:{"text-align":"center"}},[a("br"),a("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",fab:"",color:"red"}},[a("v-icon",[t._v("delete_forever")])],1),a("br"),a("span",[t._v("ยืนยันการลบผู้ป่วยจากการดูแล")]),a("br")],1),a("v-card-actions",{staticClass:"d-flex justify-space-around"},[a("v-spacer"),a("v-btn",{staticStyle:{color:"purple"},attrs:{small:"",outlined:""},on:{click:function(e){t.cf_dialog=!1}}},[t._v("ยกเลิก")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"bg-purple text-white"},on:{click:t.delRelation}},[t._v("ตกลง")]),a("v-spacer")],1)],1)],1),a("v-container",[a("v-row",{staticClass:"align-center d-flex h-0 "},[a("v-col",{staticClass:"mx-auto",attrs:{xl:"4",lg:"4",sm:"8"}},[a("br"),a("checkmong-home-bar",{staticStyle:{"padding-top":"0px !important"},attrs:{title:"รายชื่อผู้ป่วยในการดูแล"}}),a("v-row",{staticClass:"d-flex pt-2"},[a("v-col",{staticStyle:{"text-align":"center","padding-bottom":"0px"},attrs:{cols:"12"}},[a("v-card",[a("span",{staticClass:"text-red",staticStyle:{"font-size":"14px"}},[t._v("หมายเหตุ : เรียกดูข้อมูลสุขภาพจากระบบได้ "),a("br"),t._v(" เมื่อ scan QR จากผู้ป่วยเท่านั้น")])])],1)],1),a("v-row",{staticClass:"d-flex"},[a("v-col",{staticStyle:{"text-align":"right","padding-bottom":"0px"},attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-purple",staticStyle:{"box-shadow":"0px 1px 3px rgba(153, 153, 153, 0.12)","border-radius":"7px"},attrs:{tile:"",color:"bg-orange",small:""},on:{click:function(e){return t.$router.push("/scan_add_patient")}}},[a("v-icon",{attrs:{left:""}},[t._v(" person_add_alt_1 ")]),t._v(" เพิ่มผู้ป่วยในการดูแล ")],1)],1)],1),a("br"),a("v-row",{staticClass:"d-flex"},[a("v-col",{staticStyle:{"padding-bottom":"0px"},attrs:{cols:"7"}},[a("span",{staticStyle:{"font-size":"14px"}},[t._v("คนไข้ทั้งหมด "),a("b",[t._v(t._s(t.patient_list.length))]),t._v(" คน")])]),a("v-col",{attrs:{cols:"5"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-icon",{attrs:{small:"",color:"green"}},[t._v("noise_control_off")]),a("span",{staticStyle:{"font-size":"11px"}},[t._v("มีไลน์")]),t._v("   "),a("v-icon",{attrs:{small:"",color:"grey"}},[t._v("noise_control_off")]),a("span",{staticStyle:{"font-size":"11px"}},[t._v("ไม่มีไลน์")])],1)],1)],1)],1),a("v-row",{staticClass:"d-flex"},[a("v-col",{staticStyle:{"padding-top":"0px !important"},attrs:{cols:"12"}},[a("v-card",{attrs:{elevation:"1"}},[a("v-text-field",{staticStyle:{"padding-top":"0px","margin-top":"0px","background-color":"white","border-top-left-radius":"5px","border-top-right-radius":"5px"},attrs:{"append-icon":"search",label:"","single-line":"","hide-details":"",flat:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{attrs:{"hide-default-header":"","hide-default-footer":"",search:t.search,"disable-pagination":!1,headers:t.headers,items:t.patient_list,"items-per-page":t.itemsPerPage,"mobile-breakpoint":"",page:t.page},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"item.line_status",fn:function(e){var i=e.item;return[i.line_status?a("div",[a("v-row",{staticClass:"d-flex"},[a("v-icon",{attrs:{small:"",color:"green"}},[t._v("noise_control_off")]),a("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.del_user(i)}}},[t._v(" delete ")])],1)],1):a("div",[a("v-row",{staticClass:"d-flex"},[a("v-icon",{attrs:{small:"",color:"grey"}},[t._v("noise_control_off")]),a("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.del_user(i)}}},[t._v(" delete ")])],1)],1)]}},{key:"item.del",fn:function(t){t.item}},{key:"item.action",fn:function(e){var i=e.item;return[0==i.action?a("div"):a("div",[a("v-btn",{staticClass:"text-purple",staticStyle:{"box-shadow":"0px 1px 3px rgba(153, 153, 153, 0.12)","border-radius":"7px"},attrs:{tile:"",color:"bg-orange","x-small":""},on:{click:function(e){return t.goPatientHealthRecord(i)}}},[t._v(" ดูข้อมูล ")])],1)]}}])})],1),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{staticStyle:{color:"black !important"},attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)],1)],1)],1)},s=[],n=a("4993"),l=a("5fb0"),o=a("2b0e"),r=a("087d"),c={name:"calendar-patient",components:{CheckmongHomeBar:n["a"],WaitingModal:r["a"]},data:()=>({page:1,pageCount:0,itemsPerPage:10,cf_dialog:!1,patient_list:[],active_waiting:!1,title:"",status:"",search:"",attrs:"",on:"",selected_row:"",dialog:!1,arrayEvents:null,headers:[{text:"",value:"id"},{text:"",value:"patient_name"},{text:"",value:"line_status"},{text:"",value:"action",sortable:!1}]}),mounted(){this.getPatientList()},watch:{menu(t){t&&setTimeout(()=>this.activePicker="YEAR")}},methods:{del_user(t){this.selected_row=t,this.cf_dialog=!0},async delRelation(){this.active_waiting=!0,this.title="กำลังลบข้อมูล",this.status="loading",await o["default"].axios.post(l["a"]+"/del_relation",{user_relation_id:this.selected_row.user_relation_id},{headers:{"Content-Type":"application/json"}}).then(t=>{t.data?(this.active_waiting=!1,this.dialog_edit=!1,this.dialog=!1,this.$router.go()):this.active_waiting=!1})},async getUserInfo(t){await o["default"].axios.post(l["a"]+"/get_user_info",{user_id:t},{headers:{"Content-Type":"application/json"}}).then(t=>{t.data?(this.active_waiting=!1,this.$store.commit("setQrPatientId",t.data.user_id.slice(0,7)),this.$store.commit("setQrPatientInfo",t.data),this.$router.push("/view_patient_health_record_no_line")):this.active_waiting=!1})},async getPatientList(){this.active_waiting=!0,this.title="กำลังอัพเดต",this.status="loading",await o["default"].axios.post(l["a"]+"/get_patient_list",{user_id:this.$store.state.login_detail.user_id},{headers:{"Content-Type":"application/json"}}).then(t=>{t.data?(this.active_waiting=!1,this.patient_list=t.data.patient_list):this.active_waiting=!1})},update_status_wait(t){this.active_waiting=t},handleClick(t){this.selected_row=t,this.dialog=!0},goPatientHealthRecord(t){this.getUserInfo(t.user_id)}}},d=c,u=(a("9dc9"),a("2877")),h=a("6544"),p=a.n(h),v=a("8336"),g=a("b0af"),_=a("99d9"),f=a("62ad"),m=a("a523"),b=a("8fea"),x=a("169a"),y=a("132d"),w=a("da13"),C=a("5d23"),k=a("891e"),S=a("0fd9"),$=a("2fa4"),I=a("8654"),L=Object(u["a"])(d,i,s,!1,null,null,null);e["default"]=L.exports;p()(L,{VBtn:v["a"],VCard:g["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:f["a"],VContainer:m["a"],VDataTable:b["a"],VDialog:x["a"],VIcon:y["a"],VListItem:w["a"],VListItemContent:C["a"],VListItemTitle:C["c"],VPagination:k["a"],VRow:S["a"],VSpacer:$["a"],VTextField:I["a"]})}}]);
//# sourceMappingURL=chunk-7c92688c.3774a79e.js.map