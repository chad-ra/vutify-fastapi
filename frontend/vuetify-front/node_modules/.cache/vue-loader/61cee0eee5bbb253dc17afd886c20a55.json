{"remainingRequest":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/src/views/private_pages/admin/TokenManagement.vue?vue&type=style&index=0&id=5a1f026a&lang=css&","dependencies":[{"path":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/src/views/private_pages/admin/TokenManagement.vue","mtime":1673171725658},{"path":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/node_modules/css-loader/dist/cjs.js","mtime":1673160174683},{"path":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1673160175332},{"path":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/node_modules/postcss-loader/src/index.js","mtime":1673160174799},{"path":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/node_modules/cache-loader/dist/cjs.js","mtime":1673160174518},{"path":"/Users/chad-ra/Work/all/Khanun Software house/vuetify-fastapi-framework/frontend/vuetify-front/node_modules/vue-loader/lib/index.js","mtime":1673160175224}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50aGVtZS0tbGlnaHQudi1wYWdpbmF0aW9uIC52LXBhZ2luYXRpb25fX2l0ZW0tLWFjdGl2ZSB7CiAgICBjb2xvcjogcmdiKDAgMCAwIC8gODclKSAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["TokenManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4TA;AACA;AACA","file":"TokenManagement.vue","sourceRoot":"src/views/private_pages/admin","sourcesContent":["<template>\n<div>\n\n    <v-dialog v-model=\"cf_dialog\" width=\"300\">\n        <v-card>\n            <v-card-text style=\"text-align:center\">\n                <br>\n                <v-btn class=\"ma-2\" small outlined fab color=\"red\">\n                    <v-icon>delete_forever</v-icon>\n                </v-btn>\n                <br>\n                <span>ยืนยันการลบผู้ป่วยจากการดูแล</span>\n\n                <br>\n            </v-card-text>\n            <v-card-actions class=\"d-flex justify-space-around\">\n                <v-spacer></v-spacer>\n                <v-btn small outlined style=\"color:purple\" @click=\"cf_dialog = false\">ยกเลิก</v-btn>\n                <v-spacer></v-spacer>\n                <v-btn small color=\"bg-purple text-white\" @click=\"delCustomer\">ตกลง</v-btn>\n                <v-spacer></v-spacer>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"new_cm_dialog\" width=\"300\">\n        <v-card>\n            <v-card-text style=\"text-align:center\">\n                <br>\n                <v-btn class=\"ma-2\" small outlined fab color=\"red\">\n                    <v-icon>add</v-icon>\n                </v-btn>\n                <br>\n                <span>Add Customer</span>\n                <v-text-field\n                    v-model=\"new_customer_name\"\n                    :counter=\"10\"\n                    label=\"Full name\"\n                    required\n                ></v-text-field>\n                \n                <br>\n            </v-card-text>\n            <v-card-actions class=\"d-flex justify-space-around\">\n                <v-spacer></v-spacer>\n                <v-btn small outlined style=\"color:purple\" @click=\"new_cm_dialog = false\">ยกเลิก</v-btn>\n                <v-spacer></v-spacer>\n                <v-btn small color=\"bg-purple text-white\" @click=\"createCustomer\">ตกลง</v-btn>\n                <v-spacer></v-spacer>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"token_dialog\" width=\"300\">\n        <v-card>\n            <v-card-title>New token</v-card-title>\n            <v-card-text persistent style=\"text-align:center\">\n\n                <br>\n                <v-chip label>{{new_token}}</v-chip>\n            </v-card-text>\n            <v-card-actions class=\"d-flex justify-space-around\">\n\n                <v-spacer></v-spacer>\n                <v-btn color=\"bg-purple text-white\" @click=\"$router.go()\">ตกลง</v-btn>\n\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"req_dialog\" width=\"300\">\n        <v-card>\n            <v-card-title>New token</v-card-title>\n            <v-card-text persistent style=\"text-align:center\">\n                ระบบได้ทำการส่ง Token ไปยังผู้ขอผ่านช่องทางไลน์แล้ว\n                <br>\n                <v-chip label>{{new_token}}</v-chip>\n            </v-card-text>\n            <v-card-actions class=\"d-flex justify-space-around\">\n\n                <v-spacer></v-spacer>\n                <v-btn color=\"bg-purple text-white\" @click=\"$router.go()\">ตกลง</v-btn>\n\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n   \n    <v-container class=\"\">\n        <v-btn\n        depressed\n        elevation=\"2\"\n        outlined\n        @click=\"$router.go(-1)\"\n        > goBack\n        </v-btn>\n    </v-container>\n    <v-container>\n        \n        <v-row class=\"align-center d-flex h-0 pb-0 pt-2\">\n            <v-col lg=\"10\" sm=\"12\" class=\"mx-auto\">\n                <v-btn\n                \n                elevation=\"2\"\n                \n                @click=\"new_customer\"\n                > Create customer\n                </v-btn>\n                <br />\n                <span> Member List</span>\n                <v-row class=\"d-flex\">\n                    <v-col cols=\"7\" style=\"padding-bottom: 0px;\"> <span style=\"font-size: 14px;\">ทั้งหมด <b>{{req_list.length}}</b> คน</span></v-col>\n\n                </v-row>\n                <v-row class=\"d-flex\">\n                    <v-col cols=\"12\" style=\"padding-top: 0px !important;\">\n                        <v-card elevation=\"1\">\n                            <v-text-field v-model=\"search\" append-icon=\"search\" label=\"\" single-line hide-details style=\"padding-top: 0px;margin-top: 0px;background-color: white;border-top-left-radius: 5px;border-top-right-radius: 5px;\" flat></v-text-field>\n                            <!-- <v-data-table :search=\"search\" :disable-pagination=\"true\" :headers=\"headers\" :items=\"patient_list\" :items-per-page=\"10\" dense mobile-breakpoint @click:row=\"handleClick\"> -->\n                            <v-data-table hide-default-footer :search=\"search\" :disable-pagination=\"false\" :headers=\"headers\" :items=\"customer_list\" :items-per-page=\"itemsPerPage\" mobile-breakpoint :page.sync=\"page\" @page-count=\"pageCount = $event\">\n                                <template v-slot:item.action=\"{ item }\">\n\n                                    <v-btn v-if=\"item.status == 1 \" elevation=\"2\" @click=\"del_user(item)\" color=\"bg-orange\" x-small height=\"32\" class=\"text-purple\" style=\"box-shadow: 0px 1px 3px rgba(153, 153, 153, 0.12);border-radius: 7px;\">\n                                        <span>ลบ</span>\n                                    </v-btn>\n\n                                    <v-btn v-else disabled color=\"bg-orange\" x-small height=\"32\" class=\"text-purple\" style=\"box-shadow: 0px 1px 3px rgba(153, 153, 153, 0.12);border-radius: 7px;\">\n                                        <span>disable</span>\n                                    </v-btn>\n\n                                </template>\n                            </v-data-table>\n                        </v-card>\n                        <div class=\"text-center pt-2\">\n                            <v-pagination v-model=\"page\" :length=\"pageCount\"></v-pagination>\n                        </div>\n                    </v-col>\n                </v-row>\n            </v-col>\n        </v-row>\n\n    </v-container>\n</div>\n</template>\n\n<script>\n\nimport {\n    APIURL\n} from '@/constants'\nimport Vue from 'vue'\nexport default {\n    name: \"calendar-patient\",\n    components: {\n    },\n    data: () => ({\n        req_dialog: false,\n        token_dialog: false,\n\n\n        new_cm_dialog: false,\n        new_customer_name: '',\n\n\n        req_list: [],\n        token_list: [],\n        page: 1,\n        pageCount: 0,\n        itemsPerPage: 10,\n\n        page_1: 1,\n        pageCount_1: 0,\n        itemsPerPage_1: 10,\n        new_token: '',\n\n        cf_dialog: false,\n        patient_list: [],\n        active_waiting: false,\n        title: '',\n        status: '',\n        search: '',\n        search_1:'',\n        attrs: \"\",\n        on: \"\",\n        selected_row: \"\",\n        dialog: false,\n        arrayEvents: null,\n        date1: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n            .toISOString()\n            .substr(0, 10),\n        date2: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n            .toISOString()\n            .substr(0, 10),\n\n        headers: [{\n                text: \"id\",\n                value: \"id\",\n            },\n            {\n                text: \"name\",\n                value: \"name\",\n            },\n            {\n                text: \"status\",\n                value: \"status\",\n            },\n            {\n                text: \"action\",\n                value: \"action\",\n            }\n        ],\n        customer_list: []\n    }),\n\n    beforeCreate() {\n\n    },\n    mounted() {\n        this.getCustomerList()\n    },\n    watch: {\n\n    },\n    methods: {\n\n        del_user(val) {\n            this.selected_row = val\n            this.cf_dialog = true\n        },\n\n        new_customer(){\n            this.new_cm_dialog = true\n            // this.createCustomer()\n        },\n\n        async createCustomer() {\n            //console.log('his.selected_row.user_relation_id:',this.selected_row.user_relation_id)\n            console.log()\n            await Vue.axios.post(APIURL + '/create_customer', {\n                \"name\": this.new_customer_name\n            }, {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then((response) => {\n                if (response.data.detail) {\n                    this.token_dialog = true\n                    this.new_token = response.data.detail\n                }\n\n            })\n        },\n\n        async delCustomer() {\n            console.log('his.selected_row.user_relation_id:',this.selected_row.id)\n            await Vue.axios.post(APIURL + '/del_customer', {\n                \"id\": this.selected_row.id\n            }, {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then((response) => {\n                if (response.data) {\n                    console.log('deleted')\n                    this.$router.go()\n                }\n            })\n        },\n\n        async getCustomerList() {\n\n\n            // const customer_list = [\n            //                             {\n            //                                 id: 1,\n            //                                 name: 'Chikun',\n            //                                 status: 1,\n            //                             },\n            //                             {\n            //                                 id: 2,\n            //                                 name: 'Chija',\n            //                                 status: 1,\n            //                             },\n            //                             {\n            //                                 id: 3,\n            //                                 name: 'Chddo',\n            //                                 status: 0,\n            //                             }\n            //                         ]\n            // this.customer_list = customer_list\n            \n            await Vue.axios.post(APIURL + '/get_customer_list', {\n            }, {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then((response) => {\n                console.log(response)\n                if (response.data) {\n                    // this.customer_list = customer_list\n                    this.customer_list = response.data.customer_list\n                }\n\n            })\n\n        },\n\n        update_status_wait(val) {\n            this.active_waiting = val\n        },\n        handleClick(value) {\n            this.selected_row = value;\n            this.dialog = true;\n        },\n\n    },\n};\n</script>\n\n<style>\n.theme--light.v-pagination .v-pagination__item--active {\n    color: rgb(0 0 0 / 87%) !important;\n}\n</style>\n"]}]}